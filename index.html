<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Sistema ligero de contadores de dÃ­as sin incidentes." />
    <meta name="theme-color" content="#0d1b2a" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="manifest" href="manifest.json" />
    <link rel="apple-touch-icon" href="icon-192.svg" />
    <link rel="icon" type="image/png" href="images/favicon.png" />
    <title>Contadores sin incidentes</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Sidebar -->
    <div id="sidebar" class="sidebar">
      <div class="sidebar__header">
        <h2>MenÃº</h2>
        <button id="sidebar-close" class="sidebar__close" type="button" aria-label="Cerrar menÃº">
          <span></span>
          <span></span>
        </button>
      </div>
      <nav class="sidebar__nav">
        <button id="menu-counters" class="sidebar__item sidebar__item--active" type="button">
          <span class="sidebar__icon">ğŸ“Š</span>
          <span>Mis Contadores</span>
        </button>
        <button id="menu-new" class="sidebar__item" type="button">
          <span class="sidebar__icon">â•</span>
          <span>Nuevo Contador</span>
        </button>
        <button id="menu-stats" class="sidebar__item" type="button">
          <span class="sidebar__icon">ğŸ“ˆ</span>
          <span>EstadÃ­sticas</span>
        </button>
        <div class="sidebar__divider"></div>
        <button id="menu-export" class="sidebar__item" type="button">
          <span class="sidebar__icon">ğŸ’¾</span>
          <span>Exportar</span>
        </button>
        <label for="import-file" class="sidebar__item" style="cursor: pointer;">
          <span class="sidebar__icon">ğŸ“¥</span>
          <span>Importar</span>
          <input type="file" id="import-file" accept=".json" style="display: none;" />
        </label>
        <button id="menu-reset-all" class="sidebar__item sidebar__item--danger" type="button">
          <span class="sidebar__icon">ğŸ”„</span>
          <span>Resetear Todo</span>
        </button>
        <div class="sidebar__divider"></div>
        <label class="sidebar__item sidebar__item--select">
          <span class="sidebar__icon">ğŸ‘ï¸</span>
          <span>Vista</span>
          <select id="view-mode" class="sidebar__select" aria-label="Seleccionar vista">
            <option value="flip">Flip Clock</option>
            <option value="calculator">Calculadora</option>
            <option value="bolder">Bolder</option>
          </select>
        </label>
        <button id="menu-install" class="sidebar__item" type="button" hidden>
          <span class="sidebar__icon">ğŸ“±</span>
          <span>Instalar App</span>
        </button>
      </nav>
    </div>

    <!-- Overlay para cerrar sidebar -->
    <div id="sidebar-overlay" class="sidebar-overlay"></div>

    <!-- BotÃ³n hamburguesa -->
    <button id="sidebar-toggle" class="sidebar-toggle" type="button" aria-label="Abrir menÃº">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <main class="app">
      <header class="app__header">
        <div>
          <h1>Contadores sin incidentes</h1>
          <p class="app__subtitle">
            Crea y gestiona contadores de tiempo transcurrido desde una fecha y hora.
          </p>
        </div>
      </header>

      <!-- PÃ¡gina de Contadores -->
      <div id="page-counters" class="page page--active">
        <section class="panel">
          <h2>Mis contadores</h2>
          <div id="counter-list" class="counter-list" aria-live="polite"></div>
          <p id="empty-state" class="empty-state">
            AÃºn no hay contadores. Crea el primero para empezar.
          </p>
        </section>
      </div>

      <!-- PÃ¡gina de EstadÃ­sticas -->
      <div id="page-stats" class="page">
        <section class="panel">
          <div class="page-header">
            <button id="back-to-counters" class="btn btn--secondary" type="button">
              â† Volver
            </button>
            <h2>EstadÃ­sticas</h2>
          </div>
          <div id="stats-content" class="stats-content"></div>
        </section>
      </div>
    </main>

    <!-- Modal: Nuevo Contador -->
    <div id="modal-new" class="modal">
      <div class="modal__overlay"></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>Nuevo Contador</h2>
          <button class="modal__close" type="button" aria-label="Cerrar">
            <span></span>
            <span></span>
          </button>
        </div>
        <form id="counter-form" class="form">
          <label class="form__field">
            <span>Nombre</span>
            <input
              id="counter-name"
              type="text"
              name="name"
              placeholder="Ej: DÃ­as sin accidentes"
              maxlength="60"
              required
            />
          </label>
          <label class="form__field">
            <span>Fecha y hora de inicio</span>
            <input id="counter-start" type="datetime-local" name="start" required />
          </label>
          <div class="modal__actions">
            <button type="button" class="btn btn--ghost modal__cancel">Cancelar</button>
            <button type="submit" class="btn btn--primary">Crear contador</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal: Editar Contador -->
    <div id="modal-edit" class="modal">
      <div class="modal__overlay"></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>Editar Contador</h2>
          <button class="modal__close" type="button" aria-label="Cerrar">
            <span></span>
            <span></span>
          </button>
        </div>
        <form id="edit-counter-form" class="form">
          <input type="hidden" id="edit-counter-id" />
          <label class="form__field">
            <span>Nombre</span>
            <input
              id="edit-counter-name"
              type="text"
              name="name"
              placeholder="Ej: DÃ­as sin accidentes"
              maxlength="60"
              required
            />
          </label>
          <label class="form__field">
            <span>Fecha y hora de inicio</span>
            <input id="edit-counter-start" type="datetime-local" name="start" required />
          </label>
          <div class="modal__actions">
            <button type="button" class="btn btn--ghost modal__cancel">Cancelar</button>
            <button type="submit" class="btn btn--primary">Guardar cambios</button>
          </div>
        </form>
      </div>
    </div>

    <template id="counter-template">
      <article class="counter">
        <div class="counter__main">
          <h3 class="counter__title"></h3>
          <div class="counter__time"></div>
        </div>
        <div class="counter__actions">
          <button class="btn btn--secondary" data-action="edit" type="button">
            Editar
          </button>
          <button class="btn btn--secondary" data-action="reset" type="button">
            Reiniciar
          </button>
          <button class="btn btn--ghost" data-action="delete" type="button">
            Eliminar
          </button>
        </div>
      </article>
    </template>

    <script src="app.js"></script>
  </body>
</html>
